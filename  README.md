#### Details:

    Задача: Установить базовый HTTP-сервер с помощью пакета Net/http от Go.
    Цель: Подготовить операционную структуру, которая будет поддерживать функции REST API для управления контейнерами и объектами.
    Требования:
        Конфигурация сервера: Сервер должен прослушивать настраиваемый порт, обеспечивая гибкость в средах развертывания.
        Обработка запросов: Он должен эффективно обрабатывать входящие HTTP-запросы и доставлять соответствующие ответы, обеспечивая начальное подключение и функциональность.
        Обработка ошибок: Реализовать обработку ошибок для корректного управления и регистрации ошибок сервера. Это включает в себя настройку надлежащей процедуры завершения работы для плавной обработки прерываний или сбоев.

Инициирование проекта с настройкой HTTP-сервера гарантирует, что у вас есть стабильная и проверенная платформа для разработки. Этот шаг жизненно важен для тестирования функциональности каждой конечной точки API по мере их разработки и гарантирует, что инфраструктура проекта будет надежной и устойчивой с самого начала.

Ваша программа должна принимать номер порта и путь к каталогу, в котором будут храниться файлы, в качестве аргументов.

## Bucket Management

## Управление контейнерами

Вы реализуете основные функции для управления контейнерами хранения, известными как «контейнеры» в парадигме S3. Контейнеры являются основными единицами в системе хранения, где хранятся файлы (объекты). Этот этап включает создание, перечисление и удаление контейнеров через конечные точки REST API, гарантируя, что все ответы соответствуют формату XML, требуемому спецификациями Amazon S3.

Примечание: аутентификация и авторизация выходят за рамки этого проекта. Все операции могут быть выполнены без учетных данных.

### API Endpoints for Bucket Management

### Конечные точки API для управления контейнерами

#### You will create three primary API endpoints:

#### Вы создадите три основные конечные точки API:

#### 1. Create a Bucket:

#### 1. Создайте контейнер:ksss

HTTP-метод: PUT
Конечная точка: /{BucketName}
Текст запроса: Пусто. Дополнительные параметры могут быть переданы в заголовках запроса.
Поведение:
Проверьте имя контейнера, чтобы убедиться, что оно соответствует требованиям именования Amazon S3 (3–63 символа, только строчные буквы, цифры, дефисы и точки).
Убедитесь, что имя контейнера уникально во всей системе хранения.
Если имя контейнера допустимо и уникально, создайте новую запись в хранилище метаданных контейнера.
Верните код состояния 200 OK и сведения о созданном контейнере или соответствующее сообщение об ошибке, если создание не удалось (например, 400 Bad Request для недопустимых имен, 409 Conflict для дублирующихся имен).

#### 2. List All Buckets:

#### 2. Список всех контейнеров:

HTTP-метод: GET
Конечная точка: /
Поведение:
Прочитать метаданные контейнера из хранилища (например, CSV-файла).

Возврат XML-ответа, содержащего список всех соответствующих контейнеров, включая метаданные, такие как время создания, время последнего изменения и т. д.
Ответить кодом состояния 200 OK и XML-списком контейнеров.

#### 3. Delete a Bucket:

#### 3. Удалить контейнер:

HTTP-метод: DELETE
Конечная точка: /{BucketName}
Поведение:
Проверьте, существует ли указанный контейнер, выполнив поиск в хранилище метаданных контейнера.
Перед удалением убедитесь, что контейнер пуст (в нем не хранятся объекты).
Если контейнер существует и пуст, удалите его из хранилища метаданных.
Верните код статуса 204 No Content, если удаление прошло успешно, или сообщение об ошибке в формате XML, если контейнер не существует или не является пустым (например, 404 Not Found для несуществующего контейнера, 409 Conflict для непустого контейнера).

Не забудьте обработать данные и сохранить соответствующие метаданные в файле CSV.

### Обеспечение уникальных и допустимых имен контейнеров:

#### Соглашения об именовании контейнеров:

Имена контейнеров должны быть уникальными в системе.
Имена должны быть длиной от 3 до 63 символов.
Разрешены только строчные буквы, цифры, дефисы (-) и точки (.).
Не должны быть отформатированы как IP-адрес (например, 192.168.0.1).
Не должны начинаться или заканчиваться дефисом и не должны содержать две последовательные точки или тире.

#### Реализация проверки

Используйте регулярные выражения для обеспечения соблюдения правил именования.
Проверьте уникальность имени контейнера, прочитав существующие записи из файла метаданных CSV.
Если имя контейнера не соответствует правилам, верните ответ 400 Bad Request с соответствующим сообщением об ошибке.

### Пример:

##### Сценарий 1: Создание контейнера

Клиент отправляет запрос PUT в /{BucketName} с именем my-bucket.
Сервер проверяет действительность и уникальность имени контейнера, затем создает запись в хранилище метаданных контейнера (например, buckets.csv).
Сервер отвечает 200 OK и подробностями нового контейнера или соответствующим сообщением об ошибке, если создание не удалось.

##### Сценарий 2: Список контейнеров

Клиент отправляет запрос GET в /.
Сервер считывает хранилище метаданных контейнера (например, buckets.csv) и возвращает XML-список всех имен контейнеров и метаданных.
Сервер отвечает кодом состояния 200 OK.

##### Сценарий 3: Удаление контейнера

Клиент отправляет запрос DELETE в /{BucketName} для контейнера my-bucket.
Сервер проверяет, существует ли my-bucket и пуст ли он.
Если условия выполнены, bucket удаляется из хранилища метаданных bucket (например, buckets.csv).

## Операции с объектами

Эта часть проекта посвящена реализации функциональности для обработки объектов (файлов), хранящихся в контейнерах. Вы создадите конечные точки REST API для загрузки, извлечения и удаления объектов. Каждая операция будет взаимодействовать с файлами, хранящимися на диске, и обновлять метаданные, хранящиеся в файлах CSV, для отслеживания объектов и их атрибутов.

### Ключ объекта

Ключ объекта — это уникальный идентификатор объекта (например, файла), хранящегося в определенном контейнере в системе хранения.

### Конечные точки API для операций с объектами

Вы реализуете три основные конечные точки API для обработки операций с объектами:

#### 1. Загрузка нового объекта:

Метод HTTP: PUT
Конечная точка: /{BucketName}/{ObjectKey}
Тело запроса: Двоичные данные объекта (содержимое файла).
Заголовки:
Content-Type: Тип данных объекта.
Content-Length: Длина содержимого в байтах.
Поведение:
Проверьте, существует ли указанный контейнер {BucketName}, прочитав метаданные контейнера.
Проверьте ключ объекта {ObjectKey}.
Сохраните содержимое объекта в файле в каталоге, названном по названию контейнера (data/{BucketName}/).
Сохраните метаданные объекта в CSV-файле (data/{BucketName}/objects.csv).
Отправьте ответ с кодом состояния 200 или соответствующим сообщением об ошибке, если загрузка не удалась.
Примечание: в этом проекте, если объект с таким же именем уже существует, его необходимо перезаписать.

Просмотрите примеры.

#### 2. Извлечение объекта:

Метод HTTP: GET
Конечная точка: /{BucketName}/{ObjectKey}
Поведение:
Проверьте, существует ли контейнер {BucketName}.
Проверьте, существует ли объект {ObjectKey}.
Возвратите данные объекта или ошибку.

Убедитесь, что ваш ответ соответствует стандартам S3, см. документацию Amazon S3 для примера.

#### 3. Удалить объект:

Метод HTTP: DELETE
Конечная точка: /{BucketName}/{ObjectKey}
Поведение:
Проверить, существуют ли контейнер и объект.
Удалить объект и обновить метаданные.
Ответить кодом состояния 204 No Content или соответствующим сообщением об ошибке.
